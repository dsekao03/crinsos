<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>수세 메모용</title>
    <style>
        .container {
            display: flex;
            align-items: flex-start;
            margin-top: 30px;
            gap: 60px;
        }
        .memo-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-start;
        }
        .side-title {
            font-weight: bold;
            margin-bottom: 8px;
        }
        .inputs-column {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .displays-column {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .memo-rows {
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }
        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .display-box {
            border: 1px solid #ccc;
            padding: 10px 20px;
            min-width: 200px;
            min-height: 36px;
            background: #f9f9f9;
        }
        .btn-box {
            margin-top: 18px;
        }
        #modalOverlay {
            display: none;
            position: fixed;
            left: 0; top: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.3);
            z-index: 999;
        }
        #modal {
            background: white;
            padding: 25px 30px;
            border-radius: 7px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.13);
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        #modal button {
            margin: 8px 20px 0 20px;
            min-width: 60px;
        }
        @media (max-width: 900px) {
            .container {
                flex-direction: column;
                gap: 40px;
            }
            .memo-rows {
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <h1>수세 메모용</h1>
    <div class="container">

        <!-- 왼쪽 메모 그룹 -->
        <div class="memo-group" id="leftMemoGroup">
            <div class="side-title">왼쪽 메모</div>
            <div class="memo-rows">
                <div class="inputs-column" id="leftInputsColumn">
                    <!-- JS로 생성 -->
                </div>
                <div class="displays-column" id="leftDisplaysColumn">
                    <!-- JS로 생성 -->
                </div>
            </div>
        </div>

        <!-- 오른쪽 메모 그룹 -->
        <div class="memo-group" id="rightMemoGroup">
            <div class="side-title">오른쪽 메모</div>
            <div class="memo-rows">
                <div class="inputs-column" id="rightInputsColumn">
                    <!-- JS로 생성 -->
                </div>
                <div class="displays-column" id="rightDisplaysColumn">
                    <!-- JS로 생성 -->
                </div>
            </div>
        </div>

        <!-- 초기화 버튼 -->
        <div class="btn-box">
            <button id="resetBtn">초기화</button>
        </div>
    </div>
    <!-- 커스텀 모달 -->
    <div id="modalOverlay">
        <div id="modal">
            <div id="modalMessage" style="margin-bottom: 15px;">박스 안에 있는 모든 내용이 초기화 됩니다.<br>진행하시겠습니까?</div>
            <button id="yesBtn">예</button>
            <button id="noBtn">아니오</button>
        </div>
    </div>
    <script>
        // 입력창 19개 생성 (1+10+8)
        const NUM_MEMO = 19;

        // 입력창/출력박스 DOM 참조
        const leftInputsColumn   = document.getElementById('leftInputsColumn');
        const leftDisplaysColumn = document.getElementById('leftDisplaysColumn');
        const rightInputsColumn  = document.getElementById('rightInputsColumn');
        const rightDisplaysColumn= document.getElementById('rightDisplaysColumn');

        let leftMemoInputs = [], leftMemoDisplays = [];
        let rightMemoInputs = [], rightMemoDisplays = [];

        // 왼쪽, 오른쪽 각각에 대해 생성
        for (let side of ['left', 'right']) {
            const inputsArr = side === 'left' ? leftMemoInputs : rightMemoInputs;
            const displaysArr = side === 'left' ? leftMemoDisplays : rightMemoDisplays;
            const inputsCol = side === 'left' ? leftInputsColumn : rightInputsColumn;
            const displaysCol = side === 'left' ? leftDisplaysColumn : rightDisplaysColumn;
            for (let i = 0; i < NUM_MEMO; i++) {
                // 키 생성 (localStorage key)
                function genKey(idx) { return `memoValue_${side}_${idx}`; }

                // 입력 칸과 라벨
                const inputRow = document.createElement('div');
                inputRow.className = 'input-row';

                const label = document.createElement('label');
                label.textContent = `메모${i+1}`;
                label.htmlFor = `${side}MemoInput${i}`;
                label.style.minWidth = '48px';

                const input = document.createElement('input');
                input.type = 'text';
                input.id = `${side}MemoInput${i}`;
                input.placeholder = `메모를 입력하세요`;
                input.autocomplete = 'off';

                inputRow.appendChild(label);
                inputRow.appendChild(input);
                inputsCol.appendChild(inputRow);
                inputsArr.push(input);

                // 박스
                const displayBox = document.createElement('div');
                displayBox.className = 'display-box';
                displayBox.id = `${side}MemoDisplay${i}`;
                displaysCol.appendChild(displayBox);
                displaysArr.push(displayBox);

                // 로컬 스토리지 적용
                const savedValue = localStorage.getItem(genKey(i)) || '';
                input.value = savedValue;
                displayBox.textContent = savedValue;

                // 입력 이벤트
                input.addEventListener('input', function() {
                    displayBox.textContent = input.value;
                    localStorage.setItem(genKey(i), input.value);
                });
            }
        }

        // 초기화 및 모달
        const resetBtn = document.getElementById('resetBtn');
        const modalOverlay = document.getElementById('modalOverlay');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');

        resetBtn.addEventListener('click', function() {
            modalOverlay.style.display = 'block';
        });

        yesBtn.addEventListener('click', function() {
            // 왼쪽/오른쪽 모두 초기화
            for (let side of ['left', 'right']) {
                const inputsArr = side === 'left' ? leftMemoInputs : rightMemoInputs;
                const displaysArr = side === 'left' ? leftMemoDisplays : rightMemoDisplays;
                for (let i = 0; i < NUM_MEMO; i++) {
                    inputsArr[i].value = '';
                    displaysArr[i].textContent = '';
                    localStorage.removeItem(`memoValue_${side}_${i}`);
                }
            }
            modalOverlay.style.display = 'none';
        });

        noBtn.addEventListener('click', function() {
            modalOverlay.style.display = 'none';
        });

        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });
        window.addEventListener('keydown', function(e) {
            if (modalOverlay.style.display === 'block' && e.key === 'Escape') {
                modalOverlay.style.display = 'none';
            }
        });
    </script>
</body>
</html>






